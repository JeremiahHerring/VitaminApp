<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitamin App</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=Luckiest+Guy&family=Pixelify+Sans:wght@500&family=Public+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@1,500&display=swap" rel="stylesheet">
</head>
<body>
    <main class="main">
        <header class="header">
            <a href="#" class="logo">VitaMatch</a>

            <nav class="navbar">
                <a href="#" class="active">Home</a>
                <a href="#">About</a>
                <a href="#">Services</a>
                <a href="#">Contact</a>
            </nav>
        </header>
        <div class="container">
        <section class="quiz-section">
            <div class="quiz-box">
                <h1> Vitamin Questionnare</h1>
                <div class="quiz-header">
                    <span>Progress Bar Goes Here</span>
                </div>

                <h2 class="question-text">What's Your Age?</h2>

                <div class="option-list">
                </div>
                <div class="quiz-footer">
                    <button class="prev-btn">Prev</button>
                    <button class="next-btn">Next</button>
                </div>
            </div>

            <div class="pill">
                <button class="pillButton" onclick="fillCapsule()">Click Me!</button>
                <div class="capsule">
                    <svg id="caps" width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <clipPath id="clipPath">
                                <rect id="clipRect" x="50" y="40" width="300" height="120" rx="70" ry="70"/>
                            </clipPath>
                            <linearGradient id="colorGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color: #66ffcc" />
                                <stop offset="100%" style="stop-color: #66a4d4" />
                            </linearGradient>
                        </defs>
                        <rect id="innerRect" x="50" y="40" width="5" height="120" rx="20" ry="20" fill="url(#colorGradient)"/>
                        <rect id="outerRect" x="50" y="40" width="300" height="120" rx="70" ry="70" fill="transparent" stroke="#28282B" stroke-width="5px"/>
                        <rect id="middleLine" x="200" y="40" width="3" height="120" fill="#28282B"/>
                    </svg>                      
                </div>

                <script>
                    let fillPercentage = 0;
                    let isFirstClick = true;
                    function fillCapsule() {
                        fillPercentage += 7;
                        const innerRect = document.getElementById("innerRect");
                        const capsule = document.querySelector(".capsule");
                        if(isFirstClick){
                            isFirstClick = false;
                            innerRect.style.fill = "url(#colorGradient)";
                        }
                        else if (fillPercentage <= 100) {
                            innerRect.style.width = `${fillPercentage}%`;
                        }
                        capsule.classList.add("wobble");
                        setTimeout(() => {
                            capsule.classList.remove("wobble");
                        }, 500);

                        const colorGradient = document.getElementById("colorGradient");
                        colorGradient.children[0].style.stopColor = getRandomColor();
                        colorGradient.children[1].style.stopColor = getRandomColor();
                    }

                    function getRandomColor() {
                        return "#" + Math.floor(Math.random()*16777215).toString(16);
                    }
                </script>
            </div>
            <div class="result-box">
                <h2>Results!</h2>
                <div class="buttons">
                    <button class="tryAgain-btn">Take It Again!</button>
                    <button class="goHome-btn">Go To Home</button>
                </div>
                <div class="bottle">
                    <svg id="medicine-bottle" viewBox="0 0 200 400" width="200" height="400" xmlns="http://www.w3.org/2000/svg" >
                        <!-- Medicine body -->
                        <rect x="40" y="20" width="120" height="160" rx="20" ry="20" fill="#87CEEB" />
                        
                        <!-- Medicine cap -->
                        <rect x="40" y="0" width="120" height="20" rx="10" ry="10" fill="#FFD700" />
                        
                        <!-- Medicine label -->
                        <text x="100" y="175" font-family="Arial" font-size="24" fill="#fff" text-anchor="middle">Rx</text>
                      </svg>
                </div>
            </div>
            
        </section>
        <section class="home">
            <div class="home-content">
                <h1>Personalized Vitamins Within Minutes.</h1>
                <button class="start-btn">Let's Go!</button>
            </div>
            <video autoplay loop muted playsinline>
                <source src="/assets/background-video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>    
        <!-- </section>
        <section class="information-section">
            <h2>How It Works</h2>
            <p>Our website helps you find the right vitamins for your needs. Here's how it works:</p>
            <ol>
                <li>Start the questionnaire to provide us with some basic information about your health.</li>
                <li>We analyze your answers and match you with personalized vitamin recommendations.</li>
                <li>View your results and get recommendations for a healthier life.</li>
            </ol>
        </section> -->
        </div>
    </main>

    <div class="popup-info">
        <h2>Questionnare Guide</h2>
        <span class="info">1. Try to answer the questions to the best of your ability.</span>
        <span class="info">2. This is not an official diagnosis. Consult a medical professional if your health situation is urgent.</span>
        <span class="info">3. By taking this questionnare you consent to give away basic health information.</span>
        <span class="info">4. Thanks for choosing VitaMatch!</span>

        <div class="btn-group">
            <button class="info-btn exit-btn">Exit Questionnare</button>
            <a href="#" class="info-btn continue-btn">Continue</a>
        </div>
    </div>

    <script type="module" src="questions.js"></script>
    <script type="module" src="recommendationSystem.js"></script> <!-- David Trujillo added this t -->
    <script type="module" src="main.js"></script>
</body>
</html>